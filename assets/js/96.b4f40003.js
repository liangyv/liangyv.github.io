(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{503:function(t,s,a){"use strict";a.r(s);var n=a(20),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("ul",[a("li",[t._v("“最小公分母”策略（优先）")]),t._v(" "),a("li",[t._v("客户端检测（增加补充）")])]),t._v(" "),a("h3",{attrs:{id:"能力检测-特性检测"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#能力检测-特性检测"}},[t._v("#")]),t._v(" 能力检测（特性检测）")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//基本检测模式——用啥检查啥")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("propertyInQuestion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//调用object.propertyInQuestion")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//检查方法时要判断类型,IE8之前也有部分坑function返回的是object")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isSortable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("o")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sort "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"function"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//比较靠谱的方法（作者：Peter Michaux）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isHostMethod")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//对象，属性")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" typepf o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'function'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'objetc'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("\n\t\tt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unknown'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"怪癖检测-quirks-detection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#怪癖检测-quirks-detection"}},[t._v("#")]),t._v(" 怪癖检测（quirks detection）")]),t._v(" "),a("p",[t._v("怪癖检测主要是想知道浏览器有什么缺陷（bug）。通常运行一小段代码，以确定某一特性不能正常工作。")]),t._v(" "),a("blockquote",[a("p",[t._v("IE8以及更早版本中如果某个实例属性与标记为[[DontEnum]]的某个原型属性同名，那么该实例属性将不会出现再for-ing循环中。（比如toString()方法）。")]),t._v(" "),a("p",[t._v("Safari 3以前版本会枚举被隐藏的属性。")])]),t._v(" "),a("h3",{attrs:{id:"用户代理检测"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户代理检测"}},[t._v("#")]),t._v(" 用户代理检测")]),t._v(" "),a("p",[t._v("检测请求头里面代理，JS可以通过navigator.userAgent属性访问到。（服务端常用，客户端优先用其它方式，这个容易被篡改）")]),t._v(" "),a("p",[t._v("浏览器用户代理设置的是一部混乱的历史。各家都不太遵循规范，各搞各的。需要用的时候再去查吧。")]),t._v(" "),a("p",[t._v("还可以识别呈现引擎，一般就是")]),t._v(" "),a("ul",[a("li",[t._v("IE")]),t._v(" "),a("li",[t._v("Gecko")]),t._v(" "),a("li",[t._v("WebKit")]),t._v(" "),a("li",[t._v("KHTML")]),t._v(" "),a("li",[t._v("Opera")])]),t._v(" "),a("p",[t._v("ua还能识别浏览器、操作系统、Winodws版本、平台等。但是都还是优先用别的方式吧")])])}),[],!1,null,null,null);s.default=r.exports}}]);