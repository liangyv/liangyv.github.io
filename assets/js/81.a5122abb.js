(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{496:function(t,e,r){"use strict";r.r(e);var s=r(20),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h4",{attrs:{id:"whistle使用教程"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#whistle使用教程"}},[t._v("#")]),t._v(" Whistle使用教程")]),t._v(" "),r("ol",[r("li",[r("p",[t._v("介绍")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://wproxy.org/whistle/",target:"_blank",rel:"noopener noreferrer"}},[t._v("whistle 官网"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/avwo/whistle",target:"_blank",rel:"noopener noreferrer"}},[t._v("whistle github"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("whistle主要用于查看、修改HTTP、HTTPS、Websocket的请求、响应，也可以作为HTTP代理服务器，功能很强大。")])])]),t._v(" "),r("li",[r("p",[t._v("安装教程")]),t._v(" "),r("ul",[r("li",[r("p",[r("a",{attrs:{href:"https://wproxy.org/whistle/install.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方安装文档"),r("OutboundLink")],1)])]),t._v(" "),r("li",[r("p",[t._v("简略步骤：")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("// 全局安装whistle\n\nnpm install -g whistle\n\n// 安装whistle的inspect插件，用于在网页中注入vConsole调试工具，方便调试手机上的H5页面\n\nnpm i -g whistle.inspect\n")])])])]),t._v(" "),r("li",[r("p",[t._v("常用命令：")]),t._v(" "),r("p",[r("code",[t._v("w2 start // 启动")])]),t._v(" "),r("p",[r("code",[t._v("w2 stop // 关闭")])]),t._v(" "),r("p",[t._v("whistle启动后，即可在浏览器内访问whistle页面："),r("a",{attrs:{href:"http://127.0.0.1:8899/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1:8899"),r("OutboundLink")],1)])])])]),t._v(" "),r("li",[r("p",[t._v("浏览器设置")]),t._v(" "),r("ul",[r("li",[t._v("下载 Chrome 代理插件：推荐安装 SwitchyOmega。")]),t._v(" "),r("li",[r("strong",[t._v("在switchyomega创建一个名为whistle的情景模式，选择“代理服务器”类型-填入服务器ip（127.0.0.1）和代理端口（whistle的运行端口），保存并应用该情景模式")]),t._v(" "),r("img",{attrs:{src:"https://img-blog.csdnimg.cn/ed6c50e124804b7aa1b88df3ac4630f0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAeGlhb0xpYW5nIG8=,size_17,color_FFFFFF,t_70,g_se,x_16",alt:"在这里插入图片描述"}})])])]),t._v(" "),r("li",[r("p",[t._v("安装证书")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("官方安装证书教程："),r("a",{attrs:{href:"http://wproxy.org/whistle/webui/https.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("安装根证书（含windows、mac、手机端）"),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("一般PC端抓https包只需要按照上面的教程即可，而移动端（Android、iOS）抓https包可能还需要进行以下步骤：")]),t._v(" "),r("p",[t._v("a、把手机的代理到你的电脑（具体步骤上面的文档里有）")]),t._v(" "),r("p",[t._v("b、用手机浏览器访问http://rootca.pro/去下载whistle的根证书，如果证书能成功下载，则按照上面的教程安装证书即可抓https包，以下的步骤就不用看了。如果证书无法下载，进行下一步")]),t._v(" "),r("p",[t._v("c、如果是windows系统，先进入系统设置 - 网络 - Windows防火墙 - 高级设置，"),r("strong",[t._v("在入站规则里把Node.js:开头的规则都允许连接")]),t._v("，确定保存之后，再用手机扫访问http://rootca.pro/去下载whistle的根证书，如果可以下载证书则表示已经成功。否则再按照该教程"),r("a",{attrs:{href:"https://jingyan.baidu.com/article/870c6fc317cae7b03ee4be48.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("开放本机的whistle运行的端口8899，允许局域网访问"),r("OutboundLink")],1),t._v("操作（"),r("strong",[t._v("教程里端口是2000，记得改成whistle的端口8899")]),t._v("），"),r("strong",[t._v("如果没有管理员权限，则需要找8000申请一个临时管理员账号操作")])]),t._v(" "),r("p",[t._v("完成以上操作，PC、移动端就可以抓包了\n"),r("img",{attrs:{src:"https://img-blog.csdnimg.cn/33cf4fbf644943b2b3aef37f9bce92f3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAeGlhb0xpYW5nIG8=,size_17,color_FFFFFF,t_70,g_se,x_16",alt:"在这里插入图片描述"}}),r("img",{attrs:{src:"https://img-blog.csdnimg.cn/6f43337fa26b4f4b98d3580819e78295.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAeGlhb0xpYW5nIG8=,size_15,color_FFFFFF,t_70,g_se,x_16",alt:"在这里插入图片描述"}})]),t._v(" "),r("p",[t._v("d、如果是Mac系统，设置以下代理：https://wproxy.org/whistle/install.html，在页面中搜索Mac: System Preferences > Network > Advanced > Proxies > HTTP or HTTPS，快速定位到具体地方。\n"),r("img",{attrs:{src:"https://img-blog.csdnimg.cn/3ab3a5e4ce7e4cb78eda6bced22bb661.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAeGlhb0xpYW5nIG8=,size_17,color_FFFFFF,t_70,g_se,x_16",alt:"在这里插入图片描述"}})])])])]),t._v(" "),r("li",[r("p",[t._v("必备设置")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("Network面板，各种域名的请求太多太杂，可按照域名过滤；显示每个请求的发起时间等。\n"),r("img",{attrs:{src:"https://img-blog.csdnimg.cn/2222ff224d744512b90b54a581a614c8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAeGlhb0xpYW5nIG8=,size_18,color_FFFFFF,t_70,g_se,x_16",alt:"在这里插入图片描述"}})])]),t._v(" "),r("li",[r("p",[t._v("Rules面板的设置\n-"),r("img",{attrs:{src:"https://img-blog.csdnimg.cn/cda250ba1db749f1917816a824f9c7af.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAeGlhb0xpYW5nIG8=,size_16,color_FFFFFF,t_70,g_se,x_16",alt:"在这里插入图片描述"}})])])])]),t._v(" "),r("li",[r("p",[t._v("其他")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("whistle的核心技巧就是使用各式各样的rule和plugin，要更好的使用rule则需要了解rule的"),r("a",{attrs:{href:"https://wproxy.org/whistle/pattern.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("匹配模式"),r("OutboundLink")],1),t._v("和whistle内置的"),r("a",{attrs:{href:"https://wproxy.org/whistle/rules/",target:"_blank",rel:"noopener noreferrer"}},[t._v("协议规则"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/whistle-plugins",target:"_blank",rel:"noopener noreferrer"}},[t._v("whistle官方支持的plugin集合"),r("OutboundLink")],1)])]),t._v(" "),r("li",[r("p",[t._v("更多请看whistle的官方文档，很详细："),r("a",{attrs:{href:"https://wproxy.org/whistle/",target:"_blank",rel:"noopener noreferrer"}},[t._v("whistle 官网"),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("常用章节")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://wproxy.org/whistle/quickstart.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("快速上手"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://wproxy.org/whistle/pattern.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("匹配模式"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://wproxy.org/whistle/webui/",target:"_blank",rel:"noopener noreferrer"}},[t._v("界面功能"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://wproxy.org/whistle/rules/",target:"_blank",rel:"noopener noreferrer"}},[t._v("协议规则"),r("OutboundLink")],1)])])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("快速查找指定请求")])])])]),t._v(" "),r("p",[t._v("-"),r("img",{attrs:{src:"https://img-blog.csdnimg.cn/ab30a831a4f948dabfba6b46c16a89bf.png",alt:"在这里插入图片描述"}})])]),t._v(" "),r("li",[r("p",[t._v("Host配置")])])]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("   # host配置\n   10.9.11.20 *.test.com *.juejin.com\n   \n   # 代理本地端口\n   aa.test.com 127.0.0.1:10081\n   \n   # 本地文件代理\n   https://m.test.com/res/js/aa.js C:\\xx\\aa.js\n   \n   # 跨域配置 `*`表示：access-control-allow-origin: * reqCors 修改请求的 CORS。resCors 修改返回的 CORS \n   *.test.com resCors://*\n   \n   # ignore忽略指定规则 比如：CDN图片直接走线上\n   ignore://* img.test.com  /aa/bb.json/i /other/test.json/i\n   \n   # 匹配pattern的同时不能为post请求且请求头里面的cookie字段必须包含test(忽略大小写)、url里面必须包含 cgi-bin 的请求\n   # 即：过滤掉匹配filter里面的请求\n   pattern excludeFilter://m:post includeFilter://h:cookie=test includeFilter:///cgi-bin/i\n   ``")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);